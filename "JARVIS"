import openai
import sounddevice as sd
import speech_recognition as sr

# Set up OpenAI API
open.api_key = 'YOUR_API_KEY'

# Degine your's assistant name
assistant_name = 'Jarvis'

# Speech recognition setup
r = sr.Recognizer()

# Start the voice assistant
print(f"{assistant_name}: Hello! How can i assist you today? ")

while True:
    # Get your input
    with sr.Microphone() as source:
        print("Listening...........")
        audio = r.listen(source)

# Convert speech to text
    user_input = r.recognize_google(audio)

# Display user input
print("User: f{user_input}")

# Process user input with ChatGPT
response = openai.Completions.create(
        engine = "text-davinci-003",
        prompt = f"User: {user_input}\n{assistant_name}:", 
        max_tokens = 80
    )

# Get assistant's reply  from the response
assistant.reply = response,choices[0].text.strip()

# Output assistant's reply
print(f"{assistant_name} : {assistant_reply}")

# Convert assistant" reply to audio
sd.play(text_to_speech)

# Wait until the audio finishes playing
sd.wait()
